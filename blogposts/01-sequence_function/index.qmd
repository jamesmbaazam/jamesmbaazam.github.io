---
title: "The sequence() function"
subtitle: "Useful R functions"
author: "James M. Azam"
categories: [R, base R]
---
::: {.callout-note}
You may know about `seq()`, `seq_len()`, and `seq_along()`, but have you ever
heard of `sequence()`?
:::

I am inspired by MaÃ«lle Salmon's [Useful R functions](https://masalmon.eu/tags/useful-functions/)
series to share useful R functions that help me to write terse code as I come across them.

In the past, when I've tried to generate sequences of numbers from each
element of a vector, I've used a combination of the `unlist()`, `lapply()`
and `seq_len()` functions.

```{r eval=TRUE, echo=TRUE}
my_vec <- c(1, 3, 2)
my_vec_sequence <- unlist(lapply(my_vec, seq_len))
my_vec_sequence
```

Recently, I was pointed to the `sequence()` function, which performs the same
operation in a terse way.

::: {.callout-note}
Interestingly, the [original source code of `sequence()`](https://github.com/wch/r-source/commit/034b83ee81d747bbd3bf1a3f9fd121ecd4f493a3#diff-d7d011beb010cd6cb88afc769b3111b1ac01cda29c3d5fef41a244f2b5f31f5cL158) was basically
the same code as above and was later turned into a [Generic Function](https://adv-r.hadley.nz/s3.html#s3-methods).
:::

The `sequence()` function is a simple function that can be used to generate
sequences of numbers from each element of a vector. It provides control over
the starting and ending values of the sequence and the intervals to be used.

## Syntax

```{r eval=FALSE, echo=TRUE}
sequence(nvec, from = 1, to = 1, along.with = NULL)
```

## Examples

Let's use `sequence()` to generate a sequence of numbers from each element of
a vector. Note that by default, the `from` and `to` arguments are set to `1`.
The `along.with` argument is used to specify the length of the sequence.

```{r eval=TRUE, echo=TRUE}
my_seq <- sequence(c(1, 3, 2))
my_seq
```

Beyond the defaults, the `from` and `to` arguments can be used to specify the
starting and ending values of the sequence. Let's generate a sequence from
the vector `c(1, 3, 2)`, starting at `2` and ending at `5` for each element.

```{r eval=TRUE, echo=TRUE}
my_seq <- sequence(c(1, 3, 2), from = 2, to = 5)
my_seq
```
